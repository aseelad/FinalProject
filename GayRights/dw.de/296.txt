Vincent Autin and Bruno Boileau exchanged vows on Wednesday in front of relatives and friends at Montpellier's city hall in a ceremony officiated by the mayor, Helene Mandroux.

Riot police stood guard outside the building to ensure that protesters did not interrupt the marriage.

"It's a great pleasure for me to declare you married by law," said Montpellier Mayor Helene Mandroux, before the two men kissed and signed the marriage registry.

The couple embraced to cheers from an audience of about 500 people, accompanied by the song "Love and Marriage" by Frank Sinatra. The pair have been in a relationship for six years after meeting in an online forum where they discussed music.

Following the ceremony, the 40-year-old Autin made an emotional speech thanking supporters and his family. "Love yourselves, let's love ourselves, because it's important," he said.

Officials in Montpellier, which boasts of being France's most gay-friendly town, had intended to broadcast the wedding live on a giant TV screen. The plan was later abandoned.

Just before the men entered the building, a smoke bomb was thrown from outside the perimeter of the city hall, but the ceremony went ahead as planned.

On Sunday, hundreds of thousands of protesters opposed to gay marriage gathered in Paris for a rally that ended in clashes with the police. The bill allowing gay marriage, which has faced continued and resolute opposition from conservatives and the Catholic Church, was signed into law on May 18.

Frigide Barjot, a comedian who has led the anti-gay marriage movement, urged supporters to stay away from the wedding in Montpellier, having expressed concern about the violence on Sunday. "I forbid militants from going to protest in Montpellier," she said.